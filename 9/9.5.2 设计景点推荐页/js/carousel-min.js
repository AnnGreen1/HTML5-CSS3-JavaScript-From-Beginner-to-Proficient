var Mobify=window.Mobify=window.Mobify||{};Mobify.$=Mobify.$||window.Zepto||window.jQuery;Mobify.UI=Mobify.UI||{classPrefix:"m-"};(function(b,a){b.support=b.support||{};b.extend(b.support,{touch:"ontouchend" in a})})(Mobify.$,document);Mobify.UI.Utils=(function(e){var b={},c=e.support;b.events=(c.touch)?{down:"touchstart",move:"touchmove",up:"touchend"}:{down:"mousedown",move:"mousemove",up:"mouseup"};b.getCursorPosition=(c.touch)?function(g){g=g.originalEvent||g;return{x:g.touches[0].clientX,y:g.touches[0].clientY}}:function(g){return{x:g.clientX,y:g.clientY}};b.getProperty=function(g){var k=["Webkit","Moz","O","ms",""],j=document.createElement("div").style;for(var h=0;h<k.length;++h){if(j[k[h]+g]!==undefined){return k[h]+g}}return};e.extend(c,{transform:!!(b.getProperty("Transform")),transform3d:!!(window.WebKitCSSMatrix&&"m11" in new WebKitCSSMatrix())});var d=b.getProperty("Transform");if(c.transform3d){b.translateX=function(g,h){if(typeof h=="number"){h=h+"px"}g.style[d]="translate3d("+h+",0,0)"}}else{if(c.transform){b.translateX=function(g,h){if(typeof h=="number"){h=h+"px"}g.style[d]="translate("+h+",0)"}}else{b.translateX=function(g,h){if(typeof h=="number"){h=h+"px"}g.style.left=h}}}var f=b.getProperty("Transition"),a=b.getProperty("TransitionDuration");b.setTransitions=function(h,g){if(g){h.style[a]=""}else{h.style[a]="0s"}};b.requestAnimationFrame=(function(){var g=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(i){window.setTimeout(i,1000/60)});var h=function(){g.apply(window,arguments)};return h})();return b})(Mobify.$);Mobify.UI.Carousel=(function(c,b){var d={dragRadius:10,moveRadius:20,classPrefix:undefined,classNames:{outer:"carousel",inner:"carousel-inner",item:"item",center:"center",touch:"has-touch",dragging:"dragging",active:"active"}},a=c.support;var e=function(g,f){this.setOptions(f);this.initElements(g);this.initOffsets();this.initAnimation();this.bind()};e.defaults=d;e.prototype.setOptions=function(g){var f=this.options||c.extend({},d,g);f.classNames=c.extend({},f.classNames,g.classNames||{});f.classPrefix=f.classPrefix||Mobify.UI.classPrefix;this.options=f};e.prototype.initElements=function(f){this._index=1;this.element=f;this.$element=c(f);this.$inner=this.$element.find("."+this._getClass("inner"));this.$items=this.$inner.children();this.$start=this.$items.eq(0);this.$sec=this.$items.eq(1);this.$current=this.$items.eq(this._index);this._length=this.$items.length;this._alignment=this.$element.hasClass(this._getClass("center"))?0.5:0};e.prototype.initOffsets=function(){this._offset=0;this._offsetDrag=0};e.prototype.initAnimation=function(){this.animating=false;this.dragging=false;this._needsUpdate=false;this._enableAnimation()};e.prototype._getClass=function(f){return this.options.classPrefix+this.options.classNames[f]};e.prototype._enableAnimation=function(){if(this.animating){return}b.setTransitions(this.$inner[0],true);this.$inner.removeClass(this._getClass("dragging"));this.animating=true};e.prototype._disableAnimation=function(){if(!this.animating){return}b.setTransitions(this.$inner[0],false);this.$inner.addClass(this._getClass("dragging"));this.animating=false};e.prototype.update=function(){if(this._needsUpdate){return}var f=this;this._needsUpdate=true;b.requestAnimationFrame(function(){f._update()})};e.prototype._update=function(){if(!this._needsUpdate){return}var f=Math.round(this._offset+this._offsetDrag);b.translateX(this.$inner[0],f);this._needsUpdate=false};e.prototype.bind=function(){var p=Math.abs,t=false,k=false,f=this.options.dragRadius,i,m,l,j,r=this,s=this.$element,q=this.$inner,o=this.options,n=this.$element.width(),x=false,v=false;function h(y){if(!a.touch){y.preventDefault()}t=true;k=false;i=b.getCursorPosition(y);m=0;l=0;j=false;r._disableAnimation();x=r._index==1;v=r._index==r._length}function w(z){if(!t||k){return}var y=b.getCursorPosition(z);m=i.x-y.x;l=i.y-y.y;if(j||p(m)>p(l)&&(p(m)>f)){j=true;z.preventDefault();if(x&&(m<0)){m=m*(-n)/(m-n)}else{if(v&&(m>0)){m=m*(n)/(m+n)}}r._offsetDrag=-m;r.update()}else{if((p(l)>p(m))&&(p(l)>f)){k=true}}}function g(y){if(!t){return}t=false;r._enableAnimation();if(!k&&p(m)>o.moveRadius){if(m>0){r.next()}else{r.prev()}}else{r._offsetDrag=0;r.update()}}function u(y){if(j){y.preventDefault()}}q.on(b.events.down+".carousel",h).on(b.events.move+".carousel",w).on(b.events.up+".carousel",g).on("click.carousel",u).on("mouseout.carousel",g);s.on("click","[data-slide]",function(A){A.preventDefault();var z=c(this).attr("data-slide"),y=parseInt(z,10);if(isNaN(y)){r[z]()}else{r.move(y)}});s.on("afterSlide",function(A,y,z){r.$items.eq(y-1).removeClass(r._getClass("active"));r.$items.eq(z-1).addClass(r._getClass("active"));r.$element.find("[data-slide='"+y+"']").removeClass(r._getClass("active"));r.$element.find("[data-slide='"+z+"']").addClass(r._getClass("active"))});s.trigger("beforeSlide",[1,1]);s.trigger("afterSlide",[1,1]);r.update()};e.prototype.unbind=function(){this.$inner.off()};e.prototype.destroy=function(){this.unbind();this.$element.trigger("destroy");this.$element.remove();this.$element=null;this.$inner=null;this.$start=null;this.$current=null};e.prototype.move=function(o,g){var p=this.$element,q=this.$inner,l=this.$items,h=this.$start,i=this.$current,j=this._length,k=this._index;g=g||{};if(o<1){o=1}else{if(o>this._length){o=j}}if(o==this._index){}p.trigger("beforeSlide",[k,o]);this.$current=i=l.eq(o-1);var n=i.prop("offsetLeft")+i.prop("clientWidth")*this._alignment,m=h.prop("offsetLeft")+h.prop("clientWidth")*this._alignment;var f=-(n-m);this._offset=f;this._offsetDrag=0;this._index=o;this.update();p.trigger("afterSlide",[k,o])};e.prototype.next=function(){this.move(this._index+1)};e.prototype.prev=function(){this.move(this._index-1)};return e})(Mobify.$,Mobify.UI.Utils);(function(a){a.fn.carousel=function(d,b){var c=a.extend({},a.fn.carousel.defaults);if(typeof d=="object"){c=a(c,d);b=null;d=null}this.each(function(){var f=a(this),e=this._carousel;if(!e){e=new Mobify.UI.Carousel(this,c)}if(d){e[d](b);if(d==="destroy"){e=null}}this._carousel=e});return this};a.fn.carousel.defaults={}})(Mobify.$);
 